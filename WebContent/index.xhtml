<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
  
  <h:head>
    <meta charset="iso-8859-1" />
    <title>pedido</title>
  </h:head>
  
  <h:body>
  	<h:form>
  		<p:inputText id="searchText" widgetVar="searchText" placeholder="Nome do produto a pesquisar" size="50" maxlength="40" onkeyup="globalSearch('productTable'); return false;" />
	    <p:dataTable value="#{productController.products}" var="product"
	     	tableWidget="productTable" 
			widgetVar="productTable"
	    	filteredValue="#{productController.filteredProducts}"
	    	emptyMessage="-">
	    	<f:facet name="header">
	    	  <h:outputText value="Produtos" />
	    	  <p:inputText id="globalFilter" onkeyup="PF('productTable').filter()" style="width:150px" />
	    	</f:facet>
			<p:column filterBy="#{product.name}" filterMatchMode="contains">
			  <h:outputText value="#{product.name}" />
			</p:column>
		</p:dataTable>
	</h:form>
	<script>
        function globalSearch(widget) {
            $(PF(widget).jqId + "\\:globalFilter").val(PF('searchText').jq.val());
            $(PF(widget).jqId + "\\:globalFilter").trigger("keyup");
        }
    </script>
  </h:body>
</html>